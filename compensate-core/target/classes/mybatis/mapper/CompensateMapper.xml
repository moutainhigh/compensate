<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd"><mapper namespace="com.muye.compensate.dao.CompensateDAO">    <resultMap id="BaseResultMap" type="com.muye.compensate.DO.CompensateDO">        <id column="ID" jdbcType="BIGINT" property="id" />        <result column="GMT_CREATE" jdbcType="TIMESTAMP" property="gmtCreate"/>		<result column="GMT_MODIFIED" jdbcType="TIMESTAMP" property="gmtModified"/>		<result column="ROW_VERSION" jdbcType="INTEGER" property="rowVersion"/>		<result column="ROW_STATUS" jdbcType="INTEGER" property="rowStatus"/>		<result column="EXT_ATT" jdbcType="VARCHAR" property="extAtt"/>		<result column="APP_NAME" jdbcType="VARCHAR" property="appName"/>		<result column="CLASS_FULL_NAME" jdbcType="VARCHAR" property="classFullName"/>		<result column="METHOD_NAME" jdbcType="VARCHAR" property="methodName"/>		<result column="PARAMS" jdbcType="VARCHAR" property="params"/>		<result column="PARAM_TYPES" jdbcType="VARCHAR" property="paramTypes"/>		<result column="CODEC_PROTOCOL" jdbcType="INTEGER" property="codecProtocol"/>		<result column="STATUS" jdbcType="INTEGER" property="status"/>		<result column="CURRENT_NUM" jdbcType="INTEGER" property="currentNum"/>		<result column="MAX_NUM" jdbcType="INTEGER" property="maxNum"/>    </resultMap>      <!-- 基本列 -->    <sql id="Base_Column_List">        ID, GMT_CREATE, GMT_MODIFIED, ROW_VERSION, ROW_STATUS, EXT_ATT, APP_NAME, CLASS_FULL_NAME, METHOD_NAME, PARAMS, PARAM_TYPES, CODEC_PROTOCOL, STATUS, CURRENT_NUM, MAX_NUM    </sql>      <!-- 单个插入 -->    <insert id="insert" keyProperty="id" useGeneratedKeys="true" parameterType="com.muye.compensate.DO.CompensateDO">        insert into compensate (            GMT_CREATE, GMT_MODIFIED, ROW_VERSION, ROW_STATUS, EXT_ATT, APP_NAME, CLASS_FULL_NAME, METHOD_NAME, PARAMS, PARAM_TYPES, CODEC_PROTOCOL, STATUS, CURRENT_NUM, MAX_NUM        ) values (            now(), #{gmtModified}, 0, 0, #{extAtt}, #{appName}, #{classFullName}, #{methodName}, #{params}, #{paramTypes}, #{codecProtocol}, #{status}, #{currentNum}, #{maxNum}        )    </insert>      <!-- 单个更新 -->    <update id="update" parameterType="com.muye.compensate.DO.CompensateDO">        update compensate        <set>            GMT_MODIFIED = now(),            ROW_VERSION = ROW_VERSION + 1,            <if test="extAtt != null">				EXT_ATT = #{extAtt},			</if>			<if test="appName != null">				APP_NAME = #{appName},			</if>			<if test="classFullName != null">				CLASS_FULL_NAME = #{classFullName},			</if>			<if test="methodName != null">				METHOD_NAME = #{methodName},			</if>			<if test="params != null">				PARAMS = #{params},			</if>			<if test="paramTypes != null">				PARAM_TYPES = #{paramTypes},			</if>			<if test="codecProtocol != null">				CODEC_PROTOCOL = #{codecProtocol},			</if>			<if test="status != null">				STATUS = #{status},			</if>			<if test="currentNum != null">				CURRENT_NUM = #{currentNum},			</if>			<if test="maxNum != null">				MAX_NUM = #{maxNum},			</if>        </set>        where ID = #{id}        and ROW_STATUS = 0        and ROW_VERSION = #{rowVersion}    </update>      <!-- 删除 -->    <update id="delete" parameterType="java.lang.Long" >        update compensate set ROW_STATUS = -1  where ID = #{id}    </update>      <!-- 查询列表 -->    <select id="query" resultMap="BaseResultMap" parameterType="com.muye.compensate.query.CompensateQuery">        select        <include refid="Base_Column_List" />        from compensate        where ROW_STATUS = 0        <if test="gmtCreate != null">			and GMT_CREATE = #{gmtCreate}		</if>		<if test="gmtModified != null">			and GMT_MODIFIED = #{gmtModified}		</if>		<if test="rowVersion != null">			and ROW_VERSION = #{rowVersion}		</if>		<if test="rowStatus != null">			and ROW_STATUS = #{rowStatus}		</if>		<if test="extAtt != null">			and EXT_ATT = #{extAtt}		</if>		<if test="appName != null">			and APP_NAME = #{appName}		</if>		<if test="classFullName != null">			and CLASS_FULL_NAME = #{classFullName}		</if>		<if test="methodName != null">			and METHOD_NAME = #{methodName}		</if>		<if test="params != null">			and PARAMS = #{params}		</if>		<if test="paramTypes != null">			and PARAM_TYPES = #{paramTypes}		</if>		<if test="codecProtocol != null">			and CODEC_PROTOCOL = #{codecProtocol}		</if>		<if test="status != null">			and STATUS = #{status}		</if>		<if test="currentNum != null">			and CURRENT_NUM = #{currentNum}		</if>		<if test="maxNum != null">			and MAX_NUM = #{maxNum}		</if>        <if test="sort != null">            order by #{sort}        </if>        <if test="pageSize != null and offset != null">            limit #{offset},#{pageSize}        </if>    </select>    <!-- 查询列表条数 -->    <select id="queryCount" resultType="java.lang.Integer" parameterType="com.muye.compensate.query.CompensateQuery">        select        count(1)        from compensate        where        ROW_STATUS = 0        <if test="gmtCreate != null">			and GMT_CREATE = #{gmtCreate}		</if>		<if test="gmtModified != null">			and GMT_MODIFIED = #{gmtModified}		</if>		<if test="rowVersion != null">			and ROW_VERSION = #{rowVersion}		</if>		<if test="rowStatus != null">			and ROW_STATUS = #{rowStatus}		</if>		<if test="extAtt != null">			and EXT_ATT = #{extAtt}		</if>		<if test="appName != null">			and APP_NAME = #{appName}		</if>		<if test="classFullName != null">			and CLASS_FULL_NAME = #{classFullName}		</if>		<if test="methodName != null">			and METHOD_NAME = #{methodName}		</if>		<if test="params != null">			and PARAMS = #{params}		</if>		<if test="paramTypes != null">			and PARAM_TYPES = #{paramTypes}		</if>		<if test="codecProtocol != null">			and CODEC_PROTOCOL = #{codecProtocol}		</if>		<if test="status != null">			and STATUS = #{status}		</if>		<if test="currentNum != null">			and CURRENT_NUM = #{currentNum}		</if>		<if test="maxNum != null">			and MAX_NUM = #{maxNum}		</if>    </select>      <!-- 单个查询 -->    <select id="queryById" parameterType="java.lang.Long" resultMap="BaseResultMap">        select        <include refid="Base_Column_List" />        from compensate        where ROW_STATUS = 0 and id = #{id}    </select></mapper>